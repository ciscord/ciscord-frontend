{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { cloneDeep } from 'lodash';\nimport { MESSAGES_SUBSCRIPTION, MESSAGE_EDIT_SUBSCRIPTION, MESSAGE_DELETE_SUBSCRIPTION, NEW_REACTION_SUBSCRIPTION, UPDATE_REACTION_SUBSCRIPTION, REMOVE_REACTION_SUBSCRIPTION } from 'apis/Message';\nimport { COMPANY_NAME } from 'utils/config';\nvar Subscribe = function Subscribe(_ref) {\n  var subscribeToMore = _ref.subscribeToMore,\n    communityUrl = _ref.communityUrl,\n    channelUrl = _ref.channelUrl;\n  subscribeToMore({\n    document: MESSAGES_SUBSCRIPTION,\n    variables: {\n      channelUrl: \"\".concat(communityUrl, \"/\").concat(channelUrl),\n      tenant: COMPANY_NAME()\n    },\n    updateQuery: function updateQuery(prev, _ref2) {\n      var _result, _result$messages, _result$messages$;\n      var subscriptionData = _ref2.subscriptionData;\n      if (!subscriptionData.data) return prev;\n      var newMessage = subscriptionData.data.newMessage;\n      console.log(newMessage, '====newMessage=====');\n      var result = _objectSpread({}, prev);\n      if (((_result = result) === null || _result === void 0 ? void 0 : (_result$messages = _result.messages) === null || _result$messages === void 0 ? void 0 : (_result$messages$ = _result$messages[0]) === null || _result$messages$ === void 0 ? void 0 : _result$messages$.channel.url) === newMessage.channel.url) {\n        var messagesData = result.messages.filter(function (message) {\n          return message.id === newMessage.id;\n        });\n        if (messagesData.length === 0) {\n          result = _objectSpread({}, result, {\n            messages: [].concat(_toConsumableArray(result.messages), [newMessage])\n          });\n        } else {\n          var indexE = result.messages.indexOf(messagesData[0]);\n          result.messages[indexE] = newMessage;\n        }\n      }\n      return result;\n    }\n  });\n  subscribeToMore({\n    document: MESSAGE_EDIT_SUBSCRIPTION,\n    variables: {\n      channelUrl: \"\".concat(communityUrl, \"/\").concat(channelUrl),\n      tenant: COMPANY_NAME()\n    },\n    updateQuery: function updateQuery(prev, _ref3) {\n      var subscriptionData = _ref3.subscriptionData;\n      if (!subscriptionData.data || !subscriptionData.data.editMessage) return prev;\n      var editMessage = subscriptionData.data.editMessage;\n      var updatedMessageIndex = prev.messages.findIndex(function (_ref4) {\n        var id = _ref4.id;\n        return id === editMessage.id;\n      });\n      var _messages = cloneDeep(prev.messages);\n      _messages.splice(updatedMessageIndex, 1, editMessage);\n      return _objectSpread({}, prev, {\n        messages: _messages\n      });\n    }\n  });\n  subscribeToMore({\n    document: MESSAGE_DELETE_SUBSCRIPTION,\n    variables: {\n      channelUrl: \"\".concat(communityUrl, \"/\").concat(channelUrl),\n      tenant: COMPANY_NAME()\n    },\n    updateQuery: function updateQuery(prev, _ref5) {\n      var subscriptionData = _ref5.subscriptionData;\n      if (!subscriptionData.data || !subscriptionData.data.deleteMessage) return prev;\n      var deleteMessage = subscriptionData.data.deleteMessage;\n      var updatedMessages = prev.messages.filter(function (_ref6) {\n        var id = _ref6.id;\n        return id !== deleteMessage.id;\n      });\n      return _objectSpread({}, prev, {\n        messages: updatedMessages\n      });\n    }\n  });\n  subscribeToMore({\n    document: NEW_REACTION_SUBSCRIPTION,\n    variables: {\n      channelUrl: \"\".concat(communityUrl, \"/\").concat(channelUrl),\n      tenant: COMPANY_NAME()\n    },\n    updateQuery: function updateQuery(prev, _ref7) {\n      var subscriptionData = _ref7.subscriptionData;\n      if (!subscriptionData.data || !subscriptionData.data.newReaction) return prev;\n      var reaction = subscriptionData.data.newReaction;\n      var updatedMessageIndex = prev.messages.findIndex(function (_ref8) {\n        var id = _ref8.id;\n        return id === reaction.message.id;\n      });\n      var _messages = cloneDeep(prev.messages);\n      _messages[updatedMessageIndex].reactions.push(reaction);\n      return _objectSpread({}, prev, {\n        messages: _messages\n      });\n    }\n  });\n  subscribeToMore({\n    document: UPDATE_REACTION_SUBSCRIPTION,\n    variables: {\n      channelUrl: \"\".concat(communityUrl, \"/\").concat(channelUrl),\n      tenant: COMPANY_NAME()\n    },\n    updateQuery: function updateQuery(prev, _ref9) {\n      var subscriptionData = _ref9.subscriptionData;\n      if (!subscriptionData.data || !subscriptionData.data.updatedReaction) return prev;\n      var updatedReaction = subscriptionData.data.updatedReaction;\n      var updatedMessageIndex = prev.messages.findIndex(function (_ref10) {\n        var id = _ref10.id;\n        return id === updatedReaction.message.id;\n      });\n      var _messages = cloneDeep(prev.messages);\n      var reactionIndex = _messages[updatedMessageIndex].reactions.findIndex(function (_ref11) {\n        var id = _ref11.id;\n        return id === updatedReaction.id;\n      });\n      _messages[updatedMessageIndex].reactions.splice(reactionIndex, 1, updatedReaction);\n      return _objectSpread({}, prev, {\n        messages: _messages\n      });\n    }\n  });\n  subscribeToMore({\n    document: REMOVE_REACTION_SUBSCRIPTION,\n    variables: {\n      channelUrl: \"\".concat(communityUrl, \"/\").concat(channelUrl),\n      tenant: COMPANY_NAME()\n    },\n    updateQuery: function updateQuery(prev, _ref12) {\n      var subscriptionData = _ref12.subscriptionData;\n      if (!subscriptionData.data || !subscriptionData.data.removedReaction) return prev;\n      var reactionId = subscriptionData.data.removedReaction.id;\n      var _messages = cloneDeep(prev.messages);\n      var updatedMessages = _messages.map(function (message) {\n        return _objectSpread({}, _messages, {\n          reactions: message.reactions.filter(function (_ref13) {\n            var id = _ref13.id;\n            return id !== reactionId;\n          })\n        });\n      });\n      return _objectSpread({}, prev, {\n        messages: updatedMessages\n      });\n    }\n  });\n};\nexport default Subscribe;","map":{"version":3,"names":["cloneDeep","MESSAGES_SUBSCRIPTION","MESSAGE_EDIT_SUBSCRIPTION","MESSAGE_DELETE_SUBSCRIPTION","NEW_REACTION_SUBSCRIPTION","UPDATE_REACTION_SUBSCRIPTION","REMOVE_REACTION_SUBSCRIPTION","COMPANY_NAME","Subscribe","subscribeToMore","communityUrl","channelUrl","document","variables","tenant","updateQuery","prev","subscriptionData","data","newMessage","console","log","result","messages","channel","url","messagesData","filter","message","id","length","indexE","indexOf","editMessage","updatedMessageIndex","findIndex","_messages","splice","deleteMessage","updatedMessages","newReaction","reaction","reactions","push","updatedReaction","reactionIndex","removedReaction","reactionId","map"],"sources":["/Volumes/MacData/work/ciscord-frontend.git/components/Chat/Chat.subscriptions.js"],"sourcesContent":["import { cloneDeep } from 'lodash';\nimport {\n  MESSAGES_SUBSCRIPTION,\n  MESSAGE_EDIT_SUBSCRIPTION,\n  MESSAGE_DELETE_SUBSCRIPTION,\n  NEW_REACTION_SUBSCRIPTION,\n  UPDATE_REACTION_SUBSCRIPTION,\n  REMOVE_REACTION_SUBSCRIPTION,\n} from 'apis/Message';\nimport { COMPANY_NAME } from 'utils/config';\n\nconst Subscribe = ({ subscribeToMore, communityUrl, channelUrl }) => {\n  subscribeToMore({\n    document: MESSAGES_SUBSCRIPTION,\n    variables: {\n      channelUrl: `${communityUrl}/${channelUrl}`,\n      tenant: COMPANY_NAME(),\n    },\n    updateQuery: (prev, { subscriptionData }) => {\n      if (!subscriptionData.data) return prev;\n      const { newMessage } = subscriptionData.data;\n      console.log(newMessage, '====newMessage=====')\n      let result = { ...prev };\n      if (result?.messages?.[0]?.channel.url === newMessage.channel.url) {\n        const messagesData = result.messages.filter(message => message.id === newMessage.id);\n        if (messagesData.length === 0) {\n          result = {\n            ...result,\n            messages: [...result.messages, newMessage],\n          };\n        } else {\n          const indexE = result.messages.indexOf(messagesData[0]);\n          result.messages[indexE] = newMessage;\n        }\n      }\n\n      return result;\n    },\n  });\n\n  subscribeToMore({\n    document: MESSAGE_EDIT_SUBSCRIPTION,\n    variables: {\n      channelUrl: `${communityUrl}/${channelUrl}`,\n      tenant: COMPANY_NAME(),\n    },\n    updateQuery: (prev, { subscriptionData }) => {\n      if (!subscriptionData.data || !subscriptionData.data.editMessage) return prev;\n      const { editMessage } = subscriptionData.data;\n\n      const updatedMessageIndex = prev.messages.findIndex(({ id }) => id === editMessage.id);\n      let _messages = cloneDeep(prev.messages)\n      _messages.splice(updatedMessageIndex, 1, editMessage);\n      return {\n        ...prev,\n        messages: _messages,\n      };\n    },\n  });\n\n  subscribeToMore({\n    document: MESSAGE_DELETE_SUBSCRIPTION,\n    variables: {\n      channelUrl: `${communityUrl}/${channelUrl}`,\n      tenant: COMPANY_NAME(),\n    },\n    updateQuery: (prev, { subscriptionData }) => {\n      if (!subscriptionData.data || !subscriptionData.data.deleteMessage) return prev;\n      const { deleteMessage } = subscriptionData.data;\n      const updatedMessages = prev.messages.filter(({ id }) => id !== deleteMessage.id);\n\n      return {\n        ...prev,\n        messages: updatedMessages,\n      };\n    },\n  });\n\n  subscribeToMore({\n    document: NEW_REACTION_SUBSCRIPTION,\n    variables: {\n      channelUrl: `${communityUrl}/${channelUrl}`,\n      tenant: COMPANY_NAME(),\n    },\n    updateQuery: (prev, { subscriptionData }) => {\n      if (!subscriptionData.data || !subscriptionData.data.newReaction) return prev;\n      const { newReaction: reaction } = subscriptionData.data;\n\n      const updatedMessageIndex = prev.messages.findIndex(({ id }) => id === reaction.message.id);\n      let _messages = cloneDeep(prev.messages)\n\n      _messages[updatedMessageIndex].reactions.push(reaction);\n\n      return {\n        ...prev,\n        messages: _messages,\n      };\n    },\n  });\n\n  subscribeToMore({\n    document: UPDATE_REACTION_SUBSCRIPTION,\n    variables: {\n      channelUrl: `${communityUrl}/${channelUrl}`,\n      tenant: COMPANY_NAME(),\n    },\n    updateQuery: (prev, { subscriptionData }) => {\n      if (!subscriptionData.data || !subscriptionData.data.updatedReaction) return prev;\n      const { updatedReaction } = subscriptionData.data;\n\n      const updatedMessageIndex = prev.messages.findIndex(\n        ({ id }) => id === updatedReaction.message.id\n      );\n      \n      let _messages = cloneDeep(prev.messages)\n\n      const reactionIndex = _messages[updatedMessageIndex].reactions.findIndex(\n        ({ id }) => id === updatedReaction.id\n      );\n\n      _messages[updatedMessageIndex].reactions.splice(reactionIndex, 1, updatedReaction);\n\n      return {\n        ...prev,\n        messages: _messages,\n      };\n    },\n  });\n\n  subscribeToMore({\n    document: REMOVE_REACTION_SUBSCRIPTION,\n    variables: {\n      channelUrl: `${communityUrl}/${channelUrl}`,\n      tenant: COMPANY_NAME(),\n    },\n    updateQuery: (prev, { subscriptionData }) => {\n      if (!subscriptionData.data || !subscriptionData.data.removedReaction) return prev;\n\n      const { id: reactionId } = subscriptionData.data.removedReaction;\n\n      let _messages = cloneDeep(prev.messages)\n      const updatedMessages = _messages.map(message => ({\n        ..._messages,\n        reactions: message.reactions.filter(({ id }) => id !== reactionId),\n      }));\n\n      return {\n        ...prev,\n        messages: updatedMessages,\n      };\n    },\n  });\n};\n\nexport default Subscribe;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}