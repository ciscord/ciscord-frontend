{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport { MoreIcon } from 'components/UI/Icons';\nimport MorePopup from './MorePopup';\nimport * as S from './Member.styled';\nexport default (({\n  user,\n  roles,\n  toggleUserRole\n}) => __jsx(S.Member, {\n  key: user.id\n}, __jsx(S.User, null, __jsx(S.Avatar, {\n  src: user.image,\n  name: user.username\n}), __jsx(S.UserInfo, null, __jsx(S.Name, null, user.fullname), __jsx(S.OnlineStatus, {\n  online: user.isOnline\n}), __jsx(S.Username, null, `@${user.username}`))), __jsx(S.Options, null, __jsx(Roles, {\n  user: user\n}), __jsx(More, {\n  user: user,\n  roles: roles,\n  toggleUserRole: toggleUserRole\n}))));\nconst Roles = ({\n  user\n}) => {\n  const isOwner = user.owner === '1';\n  return isOwner ? __jsx(S.Role, null, __jsx(S.RoleColor, {\n    owner: true\n  }), \"Owner\") : user.role.sort().map(role => __jsx(S.Role, {\n    key: role.id\n  }, __jsx(S.RoleColor, {\n    color: role.color\n  }), role.title));\n};\nconst More = ({\n  user,\n  roles,\n  toggleUserRole\n}) => {\n  const {\n    0: showPopup,\n    1: setShowPopup\n  } = useState(false);\n  const isOwner = user.owner === '1';\n  useEffect(() => {\n    const listener = document.body.addEventListener('click', event => {\n      const popupContainer = event.target.closest('.vs-popup');\n      const moreIconContainer = event.target.closest('.vs-more-icon');\n      if (!popupContainer && !moreIconContainer) {\n        setShowPopup(false);\n      }\n    });\n    return () => document.body.removeEventListener('click', listener);\n  }, []);\n  return !isOwner && __jsx(React.Fragment, null, __jsx(MoreIcon, {\n    active: showPopup,\n    onClick: () => setShowPopup(!showPopup),\n    style: {\n      marginLeft: 24,\n      transform: 'rotate(-90deg)'\n    }\n  }), __jsx(MorePopup, {\n    show: showPopup,\n    close: () => setShowPopup(false),\n    user: user,\n    roles: roles,\n    toggleUserRole: toggleUserRole\n  }));\n};","map":{"version":3,"names":["useState","useEffect","MoreIcon","MorePopup","S","user","roles","toggleUserRole","id","image","username","fullname","isOnline","Roles","isOwner","owner","role","sort","map","color","title","More","showPopup","setShowPopup","listener","document","body","addEventListener","event","popupContainer","target","closest","moreIconContainer","removeEventListener","marginLeft","transform"],"sources":["/Volumes/MacData/work/ciscord-frontend.git/components/Settings/Members/Member/Member.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { MoreIcon } from 'components/UI/Icons';\nimport MorePopup from './MorePopup';\nimport * as S from './Member.styled';\n\nexport default ({ user, roles, toggleUserRole }) => (\n  <S.Member key={user.id}>\n    <S.User>\n      <S.Avatar src={user.image} name={user.username} />\n      <S.UserInfo>\n        <S.Name>{user.fullname}</S.Name>\n        <S.OnlineStatus online={user.isOnline} />\n        <S.Username>{`@${user.username}`}</S.Username>\n      </S.UserInfo>\n    </S.User>\n    <S.Options>\n      <Roles user={user} />\n      <More user={user} roles={roles} toggleUserRole={toggleUserRole} />\n    </S.Options>\n  </S.Member>\n);\n\nconst Roles = ({ user }) => {\n  const isOwner = user.owner === '1';\n\n  return isOwner ? (\n    <S.Role>\n      <S.RoleColor owner />\n      Owner\n    </S.Role>\n  ) : (\n    user.role.sort().map(role => (\n      <S.Role key={role.id}>\n        <S.RoleColor color={role.color} />\n        {role.title}\n      </S.Role>\n    ))\n  );\n};\n\nconst More = ({ user, roles, toggleUserRole }) => {\n  const [showPopup, setShowPopup] = useState(false);\n  const isOwner = user.owner === '1';\n\n  useEffect(() => {\n    const listener = document.body.addEventListener('click', event => {\n      const popupContainer = event.target.closest('.vs-popup');\n      const moreIconContainer = event.target.closest('.vs-more-icon');\n      if (!popupContainer && !moreIconContainer) {\n        setShowPopup(false);\n      }\n    });\n    return () => document.body.removeEventListener('click', listener);\n  }, []);\n\n  return (\n    !isOwner && (\n      <>\n        <MoreIcon\n          active={showPopup}\n          onClick={() => setShowPopup(!showPopup)}\n          style={{ marginLeft: 24, transform: 'rotate(-90deg)' }}\n        />\n        <MorePopup\n          show={showPopup}\n          close={() => setShowPopup(false)}\n          user={user}\n          roles={roles}\n          toggleUserRole={toggleUserRole}\n        />\n      </>\n    )\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}