{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"text\", \"type\", \"placeholder\", \"onSave\", \"children\", \"childRef\", \"canEdit\"];\nvar __jsx = React.createElement;\n// https://blog.logrocket.com/the-complete-guide-to-building-inline-editable-ui-in-react/\nimport React, { useState, useEffect } from 'react';\nvar Editable = function Editable(_ref) {\n  var text = _ref.text,\n    type = _ref.type,\n    placeholder = _ref.placeholder,\n    onSave = _ref.onSave,\n    children = _ref.children,\n    childRef = _ref.childRef,\n    _ref$canEdit = _ref.canEdit,\n    canEdit = _ref$canEdit === void 0 ? true : _ref$canEdit,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var _useState = useState(false),\n    isEditing = _useState[0],\n    setEditing = _useState[1];\n  useEffect(function () {\n    if (childRef && childRef.current && isEditing === true) {\n      childRef.current.focus();\n    }\n  }, [isEditing, childRef]);\n  var handleKeyDown = function handleKeyDown(event, type) {\n    var key = event.key;\n    var keys = ['Escape', 'Tab'];\n    var enterKey = 'Enter';\n    var allKeys = [].concat(keys, [enterKey]);\n    if (type !== 'textarea' && allKeys.indexOf(key) > -1) {\n      onSave();\n      setEditing(false);\n    }\n  };\n  return __jsx(\"section\", props, isEditing ? __jsx(\"div\", {\n    onBlur: function onBlur() {\n      onSave();\n      setEditing(false);\n    },\n    onKeyDown: function onKeyDown(e) {\n      return handleKeyDown(e, type);\n    }\n  }, children) : __jsx(\"div\", {\n    onClick: function onClick() {\n      return canEdit && setEditing(true);\n    }\n  }, __jsx(\"span\", null, text || placeholder || 'Editable content')));\n};\nexport default Editable;","map":{"version":3,"names":["React","useState","useEffect","Editable","text","type","placeholder","onSave","children","childRef","canEdit","props","isEditing","setEditing","current","focus","handleKeyDown","event","key","keys","enterKey","allKeys","indexOf","e"],"sources":["/Volumes/MacData/work/ciscord-frontend.git/components/UI/InlineEdit/Editable.js"],"sourcesContent":["// https://blog.logrocket.com/the-complete-guide-to-building-inline-editable-ui-in-react/\nimport React, { useState, useEffect } from 'react';\n\nconst Editable = ({\n  text,\n  type,\n  placeholder,\n  onSave,\n  children,\n  childRef,\n  canEdit = true,\n  ...props\n}) => {\n  const [isEditing, setEditing] = useState(false);\n\n  useEffect(() => {\n    if (childRef && childRef.current && isEditing === true) {\n      childRef.current.focus();\n    }\n  }, [isEditing, childRef]);\n\n  const handleKeyDown = (event, type) => {\n    const { key } = event;\n    const keys = ['Escape', 'Tab'];\n    const enterKey = 'Enter';\n    const allKeys = [...keys, enterKey];\n    if (type !== 'textarea' && allKeys.indexOf(key) > -1) {\n      onSave();\n      setEditing(false);\n    }\n  };\n\n  return (\n    <section {...props}>\n      {isEditing ? (\n        <div\n          onBlur={() => {\n            onSave();\n            setEditing(false);\n          }}\n          onKeyDown={e => handleKeyDown(e, type)}\n        >\n          {children}\n        </div>\n      ) : (\n        <div onClick={() => canEdit && setEditing(true)}>\n          <span>{text || placeholder || 'Editable content'}</span>\n        </div>\n      )}\n    </section>\n  );\n};\n\nexport default Editable;\n"],"mappings":";;;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAElD,IAAMC,QAAQ,GAAG,SAAXA,QAAQ,OASR;EAAA,IARJC,IAAI,QAAJA,IAAI;IACJC,IAAI,QAAJA,IAAI;IACJC,WAAW,QAAXA,WAAW;IACXC,MAAM,QAANA,MAAM;IACNC,QAAQ,QAARA,QAAQ;IACRC,QAAQ,QAARA,QAAQ;IAAA,oBACRC,OAAO;IAAPA,OAAO,6BAAG,IAAI;IACXC,KAAK;EAER,gBAAgCV,QAAQ,CAAC,KAAK,CAAC;IAAxCW,SAAS;IAAEC,UAAU;EAE5BX,SAAS,CAAC,YAAM;IACd,IAAIO,QAAQ,IAAIA,QAAQ,CAACK,OAAO,IAAIF,SAAS,KAAK,IAAI,EAAE;MACtDH,QAAQ,CAACK,OAAO,CAACC,KAAK,EAAE;IAC1B;EACF,CAAC,EAAE,CAACH,SAAS,EAAEH,QAAQ,CAAC,CAAC;EAEzB,IAAMO,aAAa,GAAG,SAAhBA,aAAa,CAAIC,KAAK,EAAEZ,IAAI,EAAK;IACrC,IAAQa,GAAG,GAAKD,KAAK,CAAbC,GAAG;IACX,IAAMC,IAAI,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC;IAC9B,IAAMC,QAAQ,GAAG,OAAO;IACxB,IAAMC,OAAO,aAAOF,IAAI,GAAEC,QAAQ,EAAC;IACnC,IAAIf,IAAI,KAAK,UAAU,IAAIgB,OAAO,CAACC,OAAO,CAACJ,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;MACpDX,MAAM,EAAE;MACRM,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,OACE,iBAAaF,KAAK,EACfC,SAAS,GACR;IACE,MAAM,EAAE,kBAAM;MACZL,MAAM,EAAE;MACRM,UAAU,CAAC,KAAK,CAAC;IACnB,CAAE;IACF,SAAS,EAAE,mBAAAU,CAAC;MAAA,OAAIP,aAAa,CAACO,CAAC,EAAElB,IAAI,CAAC;IAAA;EAAC,GAEtCG,QAAQ,CACL,GAEN;IAAK,OAAO,EAAE;MAAA,OAAME,OAAO,IAAIG,UAAU,CAAC,IAAI,CAAC;IAAA;EAAC,GAC9C,oBAAOT,IAAI,IAAIE,WAAW,IAAI,kBAAkB,CAAQ,CAE3D,CACO;AAEd,CAAC;AAED,eAAeH,QAAQ"},"metadata":{},"sourceType":"module"}