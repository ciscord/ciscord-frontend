{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useContext } from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport { withTheme } from 'styled-components';\nimport { useRouter } from 'next/router';\nimport { useMutation } from '@apollo/client';\nimport { ButtonPrimary, Button } from 'components/UI/Button/Button';\nimport { Input } from 'components/UI/Input';\nimport { UserContext } from 'context/UserContext';\nimport { LOGIN } from 'apis/User';\nimport { COMPANY_NAME } from 'utils/config';\nimport * as S from './styled';\nvar initialValues = {\n  name: '',\n  email: '',\n  password: ''\n};\nvar Login = function Login() {\n  var _useContext = useContext(UserContext),\n    signin = _useContext.signin;\n  var router = useRouter();\n  var onCompleted = function onCompleted(data) {\n    console.log(_JSON$stringify(data));\n    signin(data.login.token);\n  };\n  var _useMutation = useMutation(LOGIN, {\n      onCompleted: onCompleted\n    }),\n    _useMutation2 = _slicedToArray(_useMutation, 2),\n    login = _useMutation2[0],\n    error = _useMutation2[1].error;\n  var onSubmit = function onSubmit(_ref, _ref2) {\n    var email = _ref.email,\n      password = _ref.password;\n    var setSubmitting = _ref2.setSubmitting;\n    setSubmitting(true);\n    login({\n      variables: {\n        email: email,\n        password: password,\n        social: ''\n      }\n    });\n    setSubmitting(false);\n  };\n  return __jsx(S.Container, null, __jsx(S.Form, null, __jsx(\"div\", null), __jsx(\"div\", {\n    style: {}\n  }, __jsx(S.Heading, null, \"Sign In\"), __jsx(S.Paragraph, {\n    style: {\n      marginBottom: 10\n    }\n  }, \"To continue, log in to ciscord\"), __jsx(Formik, {\n    initialValues: initialValues,\n    onSubmit: onSubmit\n  }, function (_ref3) {\n    var isSubmitting = _ref3.isSubmitting;\n    return __jsx(Form, null, __jsx(Field, {\n      type: \"email\",\n      name: \"email\",\n      label: \"Email\",\n      placeholder: \"example@example.com\",\n      component: Input\n    }), __jsx(Field, {\n      type: \"password\",\n      name: \"password\",\n      label: \"Password\",\n      placeholder: \"********\",\n      component: Input\n    }), __jsx(S.Footer, null, __jsx(ButtonPrimary, {\n      type: \"submit\",\n      name: \"button\",\n      disabled: isSubmitting,\n      style: {\n        marginLeft: 0\n      }\n    }, isSubmitting ? 'Log in...' : 'Log in'), __jsx(Button, {\n      type: \"button\",\n      name: \"button\",\n      disabled: isSubmitting,\n      style: {\n        marginLeft: 20\n      },\n      onClick: function onClick() {\n        return router.push(\"/\".concat(COMPANY_NAME(), \"/signup\"));\n      }\n    }, \"Sign Up\")));\n  }), error && __jsx(\"p\", {\n    className: \"error\"\n  }, error.graphQLErrors[0].message), __jsx(\"p\", null)), __jsx(\"i\", null)), __jsx(S.Image, null));\n};\nexport default withTheme(Login);","map":{"version":3,"names":["useContext","Formik","Form","Field","withTheme","useRouter","useMutation","ButtonPrimary","Button","Input","UserContext","LOGIN","COMPANY_NAME","S","initialValues","name","email","password","Login","signin","router","onCompleted","data","console","log","login","token","error","onSubmit","setSubmitting","variables","social","marginBottom","isSubmitting","marginLeft","push","graphQLErrors","message"],"sources":["/Volumes/MacData/work/ciscord-frontend.git/components/Login/BasicLogin/Login.js"],"sourcesContent":["import { useContext } from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport { withTheme } from 'styled-components';\nimport { useRouter } from 'next/router'\nimport { useMutation } from '@apollo/client';\nimport { ButtonPrimary, Button } from 'components/UI/Button/Button';\nimport { Input } from 'components/UI/Input';\nimport { UserContext } from 'context/UserContext';\nimport { LOGIN } from 'apis/User';\nimport { COMPANY_NAME } from 'utils/config';\nimport * as S from './styled';\n\nconst initialValues = {\n  name: '',\n  email: '',\n  password: '',\n};\n\nconst Login = () => {\n  const { signin } = useContext(UserContext);\n  const router = useRouter()\n\n  const onCompleted = data => {\n    console.log(JSON.stringify(data))\n    signin(data.login.token);\n  };\n\n  const [login, { error }] = useMutation(LOGIN, { onCompleted });\n\n  const onSubmit = ({ email, password }, { setSubmitting }) => {\n    setSubmitting(true);\n    login({\n      variables: {\n        email,\n        password,\n        social: '',\n      },\n    });\n    setSubmitting(false);\n  };\n\n  return (\n    <S.Container>\n      <S.Form>\n        <div />\n        <div style={{ }}>\n          <S.Heading>Sign In</S.Heading>\n          <S.Paragraph style={{ marginBottom: 10 }}>To continue, log in to ciscord</S.Paragraph>\n\n          <Formik initialValues={initialValues} onSubmit={onSubmit}>\n            {({ isSubmitting }) => (\n              <Form>\n                <Field\n                  type=\"email\"\n                  name=\"email\"\n                  label=\"Email\"\n                  placeholder=\"example@example.com\"\n                  component={Input}\n                />\n                <Field\n                  type=\"password\"\n                  name=\"password\"\n                  label=\"Password\"\n                  placeholder=\"********\"\n                  component={Input}\n                />\n                <S.Footer>\n                  <ButtonPrimary\n                    type=\"submit\"\n                    name=\"button\"\n                    disabled={isSubmitting}\n                    style={{ marginLeft: 0 }}\n                  >\n                    {isSubmitting ? 'Log in...' : 'Log in'}\n                  </ButtonPrimary>\n\n                  <Button\n                    type=\"button\"\n                    name=\"button\"\n                    disabled={isSubmitting}\n                    style={{ marginLeft: 20 }}\n                    onClick={() => router.push(`/${COMPANY_NAME()}/signup`)}\n                  >\n                    Sign Up\n                  </Button>\n                </S.Footer>\n              </Form>\n            )}\n          </Formik>\n          {error && <p className=\"error\">{error.graphQLErrors[0].message}</p>}\n\n          <p />\n        </div>\n        <i />\n      </S.Form>\n      <S.Image />\n    </S.Container>\n  );\n};\n\nexport default withTheme(Login);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}