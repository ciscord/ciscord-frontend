{"ast":null,"code":"var _jsxFileName = \"/Volumes/MacData/work/ciscord-frontend.git/components/Login/BasicLogin/Login.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useContext } from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport { withTheme } from 'styled-components';\nimport { useRouter } from 'next/router';\nimport { useMutation } from '@apollo/client';\nimport { ButtonPrimary, Button } from 'components/UI/Button/Button';\nimport { Input } from 'components/UI/Input';\nimport { UserContext } from 'context/UserContext';\nimport { LOGIN } from 'apis/User';\nimport { COMPANY_NAME } from 'utils/config';\nimport * as S from './styled';\nconst initialValues = {\n  name: '',\n  email: '',\n  password: ''\n};\nconst Login = () => {\n  const {\n    signin\n  } = useContext(UserContext);\n  const router = useRouter();\n  const onCompleted = data => {\n    console.log(JSON.stringify(data));\n    signin(data.login.token);\n  };\n  const [login, {\n    error\n  }] = useMutation(LOGIN, {\n    onCompleted\n  });\n  const onSubmit = ({\n    email,\n    password\n  }, {\n    setSubmitting\n  }) => {\n    setSubmitting(true);\n    login({\n      variables: {\n        email,\n        password,\n        social: ''\n      }\n    });\n    setSubmitting(false);\n  };\n  return __jsx(S.Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, __jsx(S.Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    style: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, __jsx(S.Heading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Sign In\"), __jsx(S.Paragraph, {\n    style: {\n      marginBottom: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, \"To continue, log in to ciscord\"), __jsx(Formik, {\n    initialValues: initialValues,\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, ({\n    isSubmitting\n  }) => __jsx(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, __jsx(Field, {\n    type: \"email\",\n    name: \"email\",\n    label: \"Email\",\n    placeholder: \"example@example.com\",\n    component: Input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }), __jsx(Field, {\n    type: \"password\",\n    name: \"password\",\n    label: \"Password\",\n    placeholder: \"********\",\n    component: Input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }), __jsx(S.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, __jsx(ButtonPrimary, {\n    type: \"submit\",\n    name: \"button\",\n    disabled: isSubmitting,\n    style: {\n      marginLeft: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 19\n    }\n  }, isSubmitting ? 'Log in...' : 'Log in'), __jsx(Button, {\n    type: \"button\",\n    name: \"button\",\n    disabled: isSubmitting,\n    style: {\n      marginLeft: 20\n    },\n    onClick: () => router.push(`/${COMPANY_NAME()}/signup`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }\n  }, \"Sign Up\")))), error && __jsx(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, error.graphQLErrors[0].message), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  })), __jsx(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  })), __jsx(S.Image, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }));\n};\nexport default withTheme(Login);","map":{"version":3,"names":["useContext","Formik","Form","Field","withTheme","useRouter","useMutation","ButtonPrimary","Button","Input","UserContext","LOGIN","COMPANY_NAME","S","initialValues","name","email","password","Login","signin","router","onCompleted","data","console","log","JSON","stringify","login","token","error","onSubmit","setSubmitting","variables","social","marginBottom","isSubmitting","marginLeft","push","graphQLErrors","message"],"sources":["/Volumes/MacData/work/ciscord-frontend.git/components/Login/BasicLogin/Login.js"],"sourcesContent":["import { useContext } from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport { withTheme } from 'styled-components';\nimport { useRouter } from 'next/router'\nimport { useMutation } from '@apollo/client';\nimport { ButtonPrimary, Button } from 'components/UI/Button/Button';\nimport { Input } from 'components/UI/Input';\nimport { UserContext } from 'context/UserContext';\nimport { LOGIN } from 'apis/User';\nimport { COMPANY_NAME } from 'utils/config';\nimport * as S from './styled';\n\nconst initialValues = {\n  name: '',\n  email: '',\n  password: '',\n};\n\nconst Login = () => {\n  const { signin } = useContext(UserContext);\n  const router = useRouter()\n\n  const onCompleted = data => {\n    console.log(JSON.stringify(data))\n    signin(data.login.token);\n  };\n\n  const [login, { error }] = useMutation(LOGIN, { onCompleted });\n\n  const onSubmit = ({ email, password }, { setSubmitting }) => {\n    setSubmitting(true);\n    login({\n      variables: {\n        email,\n        password,\n        social: '',\n      },\n    });\n    setSubmitting(false);\n  };\n\n  return (\n    <S.Container>\n      <S.Form>\n        <div />\n        <div style={{ }}>\n          <S.Heading>Sign In</S.Heading>\n          <S.Paragraph style={{ marginBottom: 10 }}>To continue, log in to ciscord</S.Paragraph>\n\n          <Formik initialValues={initialValues} onSubmit={onSubmit}>\n            {({ isSubmitting }) => (\n              <Form>\n                <Field\n                  type=\"email\"\n                  name=\"email\"\n                  label=\"Email\"\n                  placeholder=\"example@example.com\"\n                  component={Input}\n                />\n                <Field\n                  type=\"password\"\n                  name=\"password\"\n                  label=\"Password\"\n                  placeholder=\"********\"\n                  component={Input}\n                />\n                <S.Footer>\n                  <ButtonPrimary\n                    type=\"submit\"\n                    name=\"button\"\n                    disabled={isSubmitting}\n                    style={{ marginLeft: 0 }}\n                  >\n                    {isSubmitting ? 'Log in...' : 'Log in'}\n                  </ButtonPrimary>\n\n                  <Button\n                    type=\"button\"\n                    name=\"button\"\n                    disabled={isSubmitting}\n                    style={{ marginLeft: 20 }}\n                    onClick={() => router.push(`/${COMPANY_NAME()}/signup`)}\n                  >\n                    Sign Up\n                  </Button>\n                </S.Footer>\n              </Form>\n            )}\n          </Formik>\n          {error && <p className=\"error\">{error.graphQLErrors[0].message}</p>}\n\n          <p />\n        </div>\n        <i />\n      </S.Form>\n      <S.Image />\n    </S.Container>\n  );\n};\n\nexport default withTheme(Login);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}