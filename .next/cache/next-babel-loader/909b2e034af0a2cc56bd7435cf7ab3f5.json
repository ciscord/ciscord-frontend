{"ast":null,"code":"import createApolloClient from './createApolloClient';\n\n// On the client, we store the Apollo Client in the following variable.\n// This prevents the client from reinitializing between page transitions.\nvar globalApolloClient = null;\n\n/**\n * Always creates a new apollo client on the server\n * Creates or reuses apollo client in the browser.\n * @param  {NormalizedCacheObject} initialState\n * @param  {NextPageContext} ctx\n */\nvar initApolloClient = function initApolloClient(initialState, ctx) {\n  // Make sure to create a new client for every server-side request so that data\n  // isn't shared between connections (which would be bad)\n  if (false) {\n    return createApolloClient(initialState, ctx);\n  }\n\n  // Reuse client on the client-side\n  if (!globalApolloClient) {\n    globalApolloClient = createApolloClient(initialState, ctx);\n  }\n  return globalApolloClient;\n};\nexport default initApolloClient;","map":{"version":3,"names":["createApolloClient","globalApolloClient","initApolloClient","initialState","ctx"],"sources":["/Volumes/MacData/work/ciscord-frontend.git/utils/apollo/initApolloClient.js"],"sourcesContent":["import createApolloClient from './createApolloClient';\n\n// On the client, we store the Apollo Client in the following variable.\n// This prevents the client from reinitializing between page transitions.\nlet globalApolloClient = null;\n\n/**\n * Always creates a new apollo client on the server\n * Creates or reuses apollo client in the browser.\n * @param  {NormalizedCacheObject} initialState\n * @param  {NextPageContext} ctx\n */\nconst initApolloClient = (initialState, ctx) => {\n  // Make sure to create a new client for every server-side request so that data\n  // isn't shared between connections (which would be bad)\n  if (typeof window === 'undefined') {\n    return createApolloClient(initialState, ctx);\n  }\n\n  // Reuse client on the client-side\n  if (!globalApolloClient) {\n    globalApolloClient = createApolloClient(initialState, ctx);\n  }\n\n  return globalApolloClient;\n};\n\nexport default initApolloClient;\n"],"mappings":"AAAA,OAAOA,kBAAkB,MAAM,sBAAsB;;AAErD;AACA;AACA,IAAIC,kBAAkB,GAAG,IAAI;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIC,YAAY,EAAEC,GAAG,EAAK;EAC9C;EACA;EACA,WAAmC;IACjC,OAAOJ,kBAAkB,CAACG,YAAY,EAAEC,GAAG,CAAC;EAC9C;;EAEA;EACA,IAAI,CAACH,kBAAkB,EAAE;IACvBA,kBAAkB,GAAGD,kBAAkB,CAACG,YAAY,EAAEC,GAAG,CAAC;EAC5D;EAEA,OAAOH,kBAAkB;AAC3B,CAAC;AAED,eAAeC,gBAAgB"},"metadata":{},"sourceType":"module"}