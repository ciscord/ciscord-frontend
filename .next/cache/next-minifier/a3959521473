{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{\"0FMq\":function(n,t,e){\"use strict\";e.r(t);var r=e(\"TRZx\"),i=e.n(r),o=e(\"Bhuq\"),a=e.n(o),c=e(\"SqZg\"),u=e.n(c),l=e(\"Z7t5\"),s=e.n(l),h=e(\"hfKm\"),f=e.n(h),d=e(\"2Eek\"),p=e.n(d),m=e(\"XoMD\"),y=e.n(m),v=e(\"Jo+v\"),g=e.n(v),w=e(\"4mXO\"),b=e.n(w),x=e(\"pLtp\"),C=e.n(x),E=e(\"eVuF\"),_=e.n(E),L=e(\"vYYK\"),O=e(\"doui\"),j=e(\"q1tI\"),N=e.n(j),$=e(\"nOHt\"),k=e(\"pZLH\"),S=e(\"5+Dc\"),I=e(\"KYPV\"),U=e(\"UGp+\"),q=e(\"q/a+\"),P=e(\"nl1G\"),T=e(\"00EI\"),F=e(\"pkyM\"),G=e(\"B8DE\"),Y=e(\"MPsh\"),D=e(\"vOnD\"),M=D.default.div.withConfig({displayName:\"ChannelCreatestyled__Container\",componentId:\"iwg18t-0\"})([\"flex:1;\"]),A=D.default.div.withConfig({displayName:\"ChannelCreatestyled__Header\",componentId:\"iwg18t-1\"})([\"padding:12px 23px;height:73px;display:flex;align-items:center;justify-content:space-between;box-sizing:border-box;border-bottom:1px solid \",\";\"],(function(n){return n.theme.chatHeaderBorder})),K=D.default.h2.withConfig({displayName:\"ChannelCreatestyled__Title\",componentId:\"iwg18t-2\"})([\"margin:0;display:flex;align-items:center;color:\",\";font-size:18px;font-weight:700;\"],(function(n){return n.theme.titleColor})),z=(D.default.div.withConfig({displayName:\"ChannelCreatestyled__Actions\",componentId:\"iwg18t-3\"})([\"\"]),D.default.a.withConfig({displayName:\"ChannelCreatestyled__Action\",componentId:\"iwg18t-4\"})([\"\"]),D.default.div.withConfig({displayName:\"ChannelCreatestyled__Body\",componentId:\"iwg18t-5\"})([\"padding:23px 23px 0;width:calc(100% - 46px);\"])),Z=(D.default.div.withConfig({displayName:\"ChannelCreatestyled__Page\",componentId:\"iwg18t-6\"})([\"width:100%;\"]),D.default.div.withConfig({displayName:\"ChannelCreatestyled__Left\",componentId:\"iwg18t-7\"})([\"width:50%;background:#fff;\"]),D.default.div.withConfig({displayName:\"ChannelCreatestyled__Content\",componentId:\"iwg18t-8\"})([\"width:452px;min-height:calc(100vh - 71px);margin:0 auto;\"]),D.default.p.withConfig({displayName:\"ChannelCreatestyled__Description\",componentId:\"iwg18t-9\"})([\"font-weight:400;font-size:15px;color:#131313;line-height:22px;margin-top:20px;\"]),D.default.footer.withConfig({displayName:\"ChannelCreatestyled__Footer\",componentId:\"iwg18t-10\"})([\"margin-top:8px;display:flex;\"])),B=N.a.createElement;function H(){H=function(){return n};var n={},t=Object.prototype,e=t.hasOwnProperty,r=f.a||function(n,t,e){n[t]=e.value},o=\"function\"==typeof s.a?s.a:{},c=o.iterator||\"@@iterator\",l=o.asyncIterator||\"@@asyncIterator\",h=o.toStringTag||\"@@toStringTag\";function d(n,t,e){return f()(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[t]}try{d({},\"\")}catch(q){d=function(n,t,e){return n[t]=e}}function p(n,t,e,i){var o=t&&t.prototype instanceof v?t:v,a=u()(o.prototype),c=new S(i||[]);return r(a,\"_invoke\",{value:j(n,e,c)}),a}function m(n,t,e){try{return{type:\"normal\",arg:n.call(t,e)}}catch(q){return{type:\"throw\",arg:q}}}n.wrap=p;var y={};function v(){}function g(){}function w(){}var b={};d(b,c,(function(){return this}));var x=a.a,C=x&&x(x(I([])));C&&C!==t&&e.call(C,c)&&(b=C);var E=w.prototype=v.prototype=u()(b);function L(n){[\"next\",\"throw\",\"return\"].forEach((function(t){d(n,t,(function(n){return this._invoke(t,n)}))}))}function O(n,t){var i;r(this,\"_invoke\",{value:function(r,o){function a(){return new t((function(i,a){!function r(i,o,a,c){var u=m(n[i],n,o);if(\"throw\"!==u.type){var l=u.arg,s=l.value;return s&&\"object\"==typeof s&&e.call(s,\"__await\")?t.resolve(s.__await).then((function(n){r(\"next\",n,a,c)}),(function(n){r(\"throw\",n,a,c)})):t.resolve(s).then((function(n){l.value=n,a(l)}),(function(n){return r(\"throw\",n,a,c)}))}c(u.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function j(n,t,e){var r=\"suspendedStart\";return function(i,o){if(\"executing\"===r)throw new Error(\"Generator is already running\");if(\"completed\"===r){if(\"throw\"===i)throw o;return U()}for(e.method=i,e.arg=o;;){var a=e.delegate;if(a){var c=N(a,e);if(c){if(c===y)continue;return c}}if(\"next\"===e.method)e.sent=e._sent=e.arg;else if(\"throw\"===e.method){if(\"suspendedStart\"===r)throw r=\"completed\",e.arg;e.dispatchException(e.arg)}else\"return\"===e.method&&e.abrupt(\"return\",e.arg);r=\"executing\";var u=m(n,t,e);if(\"normal\"===u.type){if(r=e.done?\"completed\":\"suspendedYield\",u.arg===y)continue;return{value:u.arg,done:e.done}}\"throw\"===u.type&&(r=\"completed\",e.method=\"throw\",e.arg=u.arg)}}}function N(n,t){var e=n.iterator[t.method];if(void 0===e){if(t.delegate=null,\"throw\"===t.method){if(n.iterator.return&&(t.method=\"return\",t.arg=void 0,N(n,t),\"throw\"===t.method))return y;t.method=\"throw\",t.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return y}var r=m(e,n.iterator,t.arg);if(\"throw\"===r.type)return t.method=\"throw\",t.arg=r.arg,t.delegate=null,y;var i=r.arg;return i?i.done?(t[n.resultName]=i.value,t.next=n.nextLoc,\"return\"!==t.method&&(t.method=\"next\",t.arg=void 0),t.delegate=null,y):i:(t.method=\"throw\",t.arg=new TypeError(\"iterator result is not an object\"),t.delegate=null,y)}function $(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function k(n){var t=n.completion||{};t.type=\"normal\",delete t.arg,n.completion=t}function S(n){this.tryEntries=[{tryLoc:\"root\"}],n.forEach($,this),this.reset(!0)}function I(n){if(n){var t=n[c];if(t)return t.call(n);if(\"function\"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,i=function t(){for(;++r<n.length;)if(e.call(n,r))return t.value=n[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:U}}function U(){return{value:void 0,done:!0}}return g.prototype=w,r(E,\"constructor\",{value:w,configurable:!0}),r(w,\"constructor\",{value:g,configurable:!0}),g.displayName=d(w,h,\"GeneratorFunction\"),n.isGeneratorFunction=function(n){var t=\"function\"==typeof n&&n.constructor;return!!t&&(t===g||\"GeneratorFunction\"===(t.displayName||t.name))},n.mark=function(n){return i.a?i()(n,w):(n.__proto__=w,d(n,h,\"GeneratorFunction\")),n.prototype=u()(E),n},n.awrap=function(n){return{__await:n}},L(O.prototype),d(O.prototype,l,(function(){return this})),n.AsyncIterator=O,n.async=function(t,e,r,i,o){void 0===o&&(o=_.a);var a=new O(p(t,e,r,i),o);return n.isGeneratorFunction(e)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},L(E),d(E,h,\"Generator\"),d(E,c,(function(){return this})),d(E,\"toString\",(function(){return\"[object Generator]\"})),n.keys=function(n){var t=Object(n),e=[];for(var r in t)e.push(r);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},n.values=I,S.prototype={constructor:S,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(k),!n)for(var t in this)\"t\"===t.charAt(0)&&e.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if(\"throw\"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function r(e,r){return a.type=\"throw\",a.arg=n,t.next=e,r&&(t.method=\"next\",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if(\"root\"===o.tryLoc)return r(\"end\");if(o.tryLoc<=this.prev){var c=e.call(o,\"catchLoc\"),u=e.call(o,\"finallyLoc\");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(n,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&e.call(i,\"finallyLoc\")&&this.prev<i.finallyLoc){var o=i;break}}o&&(\"break\"===n||\"continue\"===n)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=n,a.arg=t,o?(this.method=\"next\",this.next=o.finallyLoc,y):this.complete(a)},complete:function(n,t){if(\"throw\"===n.type)throw n.arg;return\"break\"===n.type||\"continue\"===n.type?this.next=n.arg:\"return\"===n.type?(this.rval=this.arg=n.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===n.type&&t&&(this.next=t),y},finish:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),k(e),y}},catch:function(n){for(var t=this.tryEntries.length-1;t>=0;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var r=e.completion;if(\"throw\"===r.type){var i=r.arg;k(e)}return i}}throw new Error(\"illegal catch attempt\")},delegateYield:function(n,t,e){return this.delegate={iterator:I(n),resultName:t,nextLoc:e},\"next\"===this.method&&(this.arg=void 0),y}},n}function R(n,t){var e=C()(n);if(b.a){var r=b()(n);t&&(r=r.filter((function(t){return g()(n,t).enumerable}))),e.push.apply(e,r)}return e}function X(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?R(Object(e),!0).forEach((function(t){Object(L.a)(n,t,e[t])})):y.a?p()(n,y()(e)):R(Object(e)).forEach((function(t){f()(n,t,g()(e,t))}))}return n}var J={name:\"\",description:\"\",isPrivate:!1},W=U.a().shape({name:U.b().strict().max(22,\"Must be shorter than 22 characters\").matches(/^[^.]+$/,\"Must contain no dots\").required(\"Name is required\")}),V=Object(q.a)((function(){var n=Object($.useRouter)();Object(S.a)(n.back);var t=n.query.community,e=Object(k.a)(P.a,{update:function(n,e){var r=e.data.createChannel,i=n.readQuery({query:P.d,variables:{communityUrl:t}}).channels;n.writeQuery({query:P.d,variables:{communityUrl:t},data:{channels:i.concat([r])}})}}),r=Object(O.a)(e,1)[0];return B(M,null,B(A,null,B(K,null,B(Y.a,{onClick:function(){return n.back()}}),B(\"span\",{style:{marginTop:3}},\"Create a channel\"))),B(z,null,B(I.c,{initialValues:J,validationSchema:W,onSubmit:function(e,i){var o,a,c,u,l,s;return H().async((function(h){for(;;)switch(h.prev=h.next){case 0:return o=i.setSubmitting,a=i.setErrors,c=e.name.toLowerCase().replace(\" \",\"-\"),u=\"\".concat(t,\"/\").concat(c),h.next=5,H().awrap(r({variables:X({communityUrl:t,url:u},e),errorPolicy:\"all\"}));case 5:l=h.sent,s=l.data,o(!1),s?n.push(\"/[company]/[community]/[channel]\",\"/\".concat(Object(T.a)(),\"/\").concat(u),{shallow:!0}):a({name:\"Channel with this name already exists\"});case 9:case\"end\":return h.stop()}}),null,null,null,_.a)},validateOnChange:!1},(function(n){var t=n.isSubmitting;return B(I.b,null,B(I.a,{type:\"text\",name:\"name\",label:\"Name\",tip:\"Names must be without periods and shorter than 22 characters.\",placeholder:\"fun\",component:F.a,style:{marginTop:0},autoFocus:!0}),B(I.a,{type:\"text\",name:\"description\",label:\"Description\",tip:\"What\\u2019s this channel about?\",placeholder:\"For example: Why UX and UI should remain separate\",component:F.a}),B(Z,null,B(G.b,{type:\"submit\",name:\"button\",disabled:t,style:{right:22,marginTop:12,marginBottom:16,lineHeight:\"unset\"}},\"Create\")))}))))}));e.d(t,\"default\",(function(){return V}))},\"5+Dc\":function(n,t,e){\"use strict\";var r=e(\"q1tI\");function i(n){Object(r.useEffect)((function(){function t(t){27===t.keyCode&&n()}return document.addEventListener(\"keydown\",t),function(){document.removeEventListener(\"keydown\",t)}}),[n])}function o(n){Object(r.useEffect)((function(){function t(t){if(t.shiftKey){var e=n[t.key];e&&e()}}return document.addEventListener(\"keypress\",t),function(){document.removeEventListener(\"keypress\",t)}}))}function a(){var n=window;return{width:n.innerWidth,height:n.innerHeight}}var c=function(){var n=Object(r.useState)(a()),t=n[0],e=n[1];return Object(r.useEffect)((function(){function n(){e(a())}return window.addEventListener(\"resize\",n),function(){return window.removeEventListener(\"resize\",n)}}),[]),t},u=function(){var n=Object(r.useState)(!1),t=n[0],e=n[1];var i=function(n){\"Escape\"===n.key&&e(!1)};return Object(r.useEffect)((function(){return window.addEventListener(\"keydown\",i),function(){window.removeEventListener(\"keydown\",i)}}),[]),{isShowing:t,toggle:function(){e(!t)},hide:function(){return e(!1)},show:function(){return e(!0)}}};e.d(t,\"a\",(function(){return i})),e.d(t,\"b\",(function(){return o})),e.d(t,\"d\",(function(){return c})),e.d(t,\"c\",(function(){return u}))},\"7m0m\":function(n,t,e){var r=e(\"Y7ZC\"),i=e(\"uplh\"),o=e(\"NsO/\"),a=e(\"vwuL\"),c=e(\"IP1Z\");r(r.S,\"Object\",{getOwnPropertyDescriptors:function(n){for(var t,e,r=o(n),u=a.f,l=i(r),s={},h=0;l.length>h;)void 0!==(e=u(r,t=l[h++]))&&c(s,t,e);return s}})},\"8Jjt\":function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/[company]/[community]/new-channel\",function(){return e(\"0FMq\")}])},XoMD:function(n,t,e){n.exports=e(\"hYAz\")},hYAz:function(n,t,e){e(\"7m0m\"),n.exports=e(\"WEpk\").Object.getOwnPropertyDescriptors},nl1G:function(n,t,e){\"use strict\";e.d(t,\"d\",(function(){return p})),e.d(t,\"c\",(function(){return m})),e.d(t,\"a\",(function(){return y})),e.d(t,\"b\",(function(){return v})),e.d(t,\"f\",(function(){return g})),e.d(t,\"e\",(function(){return w}));var r,i,o,a,c,u,l,s,h=e(\"rt45\"),f=e(\"lTCR\"),d=e.n(f),p=(d()(r||(r=Object(h.a)([\"\\n  query channelNotifications($channelUrl: String!) {\\n    channelNotifications(channelUrl: $channelUrl) {\\n      id\\n    }\\n  }\\n\"]))),d()(i||(i=Object(h.a)([\"\\n  mutation markChannelNotificationsAsRead($channelUrl: String!) {\\n    markChannelNotificationsAsRead(channelUrl: $channelUrl) {\\n      id\\n    }\\n  }\\n\"]))),d()(o||(o=Object(h.a)([\"\\n  query channels($communityUrl: String!) {\\n    channels(communityUrl: $communityUrl) {\\n      id\\n      name\\n      url\\n      community {\\n        members {\\n          username\\n        }\\n      }\\n    }\\n  }\\n\"])))),m=d()(a||(a=Object(h.a)([\"\\n  query channel($url: String!) {\\n    channel(url: $url) {\\n      id\\n      name\\n      url\\n      description\\n      community {\\n        members {\\n          username\\n        }\\n      }\\n    }\\n  }\\n\"]))),y=d()(c||(c=Object(h.a)([\"\\n  mutation createChannel(\\n    $name: String!\\n    $description: String\\n    $url: String!\\n    $isPrivate: Boolean\\n    $communityUrl: String!\\n  ) {\\n    createChannel(\\n      name: $name\\n      description: $description\\n      url: $url\\n      isPrivate: $isPrivate\\n      communityUrl: $communityUrl\\n    ) {\\n      id\\n      name\\n      url\\n    }\\n  }\\n\"]))),v=d()(u||(u=Object(h.a)([\"\\n  mutation editChannel($channelId: String!, $name: String!, $description: String) {\\n    editChannel(channelId: $channelId, name: $name, description: $description) {\\n      id\\n      name\\n      description\\n      url\\n    }\\n  }\\n\"]))),g=d()(l||(l=Object(h.a)([\"\\n  subscription channelNewMessage($communityUrl: String, $tenant: String) {\\n    channelNewMessage(communityUrl: $communityUrl, tenant: $tenant) {\\n      id\\n      name\\n      url\\n    }\\n  }\\n\"]))),w=d()(s||(s=Object(h.a)([\"\\n  query privateChannels {\\n    privateChannels {\\n      id\\n      url\\n    }\\n  }\\n\"])))},uplh:function(n,t,e){var r=e(\"ar/p\"),i=e(\"mqlF\"),o=e(\"5K7Z\"),a=e(\"5T2Y\").Reflect;n.exports=a&&a.ownKeys||function(n){var t=r.f(o(n)),e=i.f;return e?t.concat(e(n)):t}},vYYK:function(n,t,e){\"use strict\";e.d(t,\"a\",(function(){return o}));var r=e(\"hfKm\"),i=e.n(r);function o(n,t,e){return t in n?i()(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}}},[[\"8Jjt\",2,1,0,3,4,5,6,7,8,9,11]]]);"}